(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{350:function(t,e,s){t.exports=s.p+"assets/img/walletAndREPLColumns.0eae5a99.png"},351:function(t,e,s){t.exports=s.p+"assets/img/walletAndREPLRows.08e4b708.png"},352:function(t,e,s){t.exports=s.p+"assets/img/REPL.1516c399.png"},353:function(t,e,s){t.exports=s.p+"assets/img/home.0d2a75d4.png"},407:function(t,e,s){"use strict";s.r(e);var a=s(42),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"agoric-repl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#agoric-repl"}},[t._v("#")]),t._v(" Agoric REPL")]),t._v(" "),a("p",[a("strong",[t._v("Note")]),t._v(": This page describes the Agoric REPL. For information about the "),a("code",[t._v("Node.js")]),t._v(" REPL,\nclick "),a("a",{attrs:{href:"https://nodejs.org/api/repl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),a("p",[t._v("When you run "),a("code",[t._v("agoric start --reset")]),t._v(", you start a local "),a("em",[t._v("ag-solo")]),t._v(".")]),t._v(" "),a("p",[t._v("You use "),a("code",[t._v("agoric start")]),t._v(" to start what we call an "),a("em",[t._v("ag-solo")]),t._v(", which is a\nsingle personal local Agoric node. You need an ag-solo running on your\nmachine to interact with Agoric network services, whether a built-in\nsimulated chain (also started by "),a("code",[t._v("agoric start")]),t._v("), or a fully-decentralized public Agoric\nblockchain.")]),t._v(" "),a("p",[t._v("All deployment happens via the local running Agoric process. This is usually the\nag-solo process, and frequently referred to as that or just as ag-solo. It is also\nsometimes described as/called an Agoric VM or a local server.")]),t._v(" "),a("p",[t._v("An ag-solo communicates with either a locally running or remote chain. This local process (the ag-solo)\nhas a home object, which contains references to services on-chain, including Zoe, the\nBoard for sharing objects, and an application user's Wallet, among others. Developers can\nuse these service references to call the service's associated API commands.")]),t._v(" "),a("p",[t._v("Contract code starts in a file on a user's computer, either written by them or\nimported from "),a("code",[t._v("agoric/zoe")]),t._v(". The code is "),a("em",[t._v("bundled")]),t._v("; turned into a particularly formatted\nblob of code that exists in memory while a deploy script is running. When "),a("code",[t._v("E(zoe).install()")]),t._v(" is\ncalled, the blob is sent to and stored on-chain so that Zoe can access it.")]),t._v(" "),a("p",[t._v("An ag-solo has an associated REPL ("),a("em",[t._v("Read-Eval-Print Loop")]),t._v("). From the REPL and the "),a("code",[t._v("home")]),t._v("\nobject, developers can use all the on-chain commands that deployment scripts use to\ndeploy contracts and Dapps. In addition to the on-chain commands, they can also run\nany other JavaScript commands from the REPL.")]),t._v(" "),a("h2",{attrs:{id:"accessing-the-repl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#accessing-the-repl"}},[t._v("#")]),t._v(" Accessing the REPL")]),t._v(" "),a("p",[t._v("Once an ag-solo is running and on-chain, you can access its associated REPL\nin two ways.")]),t._v(" "),a("ul",[a("li",[t._v("In a browser tab, go to "),a("code",[t._v("localhost:8000")]),t._v(". Depending on the browser's width, you\nwill see the Wallet UI and REPL either in separate columns or separate rows.")])]),t._v(" "),a("p",[a("img",{attrs:{src:s(350),alt:"Wallet and REPL"}})]),t._v(" "),a("p",[a("img",{attrs:{src:s(351),alt:"Wallet and REPL"}})]),t._v(" "),a("ul",[a("li",[t._v("From a shell, run "),a("code",[t._v("agoric open --repl")]),t._v(" This opens the user's Wallet UI and its\nassociated REPL. To open only the REPL, run "),a("code",[t._v("agoric open --repl only")])])]),t._v(" "),a("p",[a("img",{attrs:{src:s(352),alt:"REPL"}})]),t._v(" "),a("h2",{attrs:{id:"using-the-repl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-the-repl"}},[t._v("#")]),t._v(" Using the REPL")]),t._v(" "),a("p",[t._v("You can run JavaScript commands from the REPL. You can also use the REPL's\n"),a("code",[t._v("home")]),t._v(" object's predefined connections to other objects and services. To see what’s\navailable, just type "),a("code",[t._v("home")]),t._v(" into the REPL:")]),t._v(" "),a("p",[a("img",{attrs:{src:s(353),alt:"home"}})]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("Command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" home\nHistory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chainTimerService"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Presence o"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sharingService"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Presence o"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("51")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contractHost"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Presence o"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("52")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ibcport"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Presence o"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("53")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"registrar"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Presence o"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("54")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"registry"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Presence o"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("55")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zoe"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Presence o"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"localTimerService"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Presence o"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("57")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uploads"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Presence o"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("58")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"spawner"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Presence o"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("59")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wallet"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Presence o"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"network"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Presence o"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("61")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Presence o"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("62")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("The results of what is entered into the REPL is saved under "),a("code",[t._v("history[N]")])]),t._v(" "),a("p",[t._v("Here’s a better formatted list of the "),a("code",[t._v("home")]),t._v(" objects with brief description of each. The\nlink on each object name takes you to a more detailed documentation page for that object.\nSeveral "),a("code",[t._v("home")]),t._v(" objects are either for internal Agoric use only or have been deprecated. These\nare listed together at the end and external developers should ignore them and not try to use\nthem.")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/wallet-api.html"}},[a("code",[t._v("wallet")])]),t._v(": Holds on-chain digital assets and object capabilities on behalf of the user.\nThe link takes you to the standard non-REPL specific "),a("code",[t._v("wallet")]),t._v(" API documentation. When calling\n"),a("code",[t._v("wallet")]),t._v(" API methods from the REPL, "),a("code",[t._v("wallet")]),t._v(" must be prefaced by\n"),a("code",[t._v("home.")]),t._v(" and use "),a("code",[t._v("E()")]),t._v(". For example, "),a("code",[t._v("E(home.wallet).getPurses()")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/REPL/timerServices.html"}},[a("code",[t._v("chainTimerService")])]),t._v(": On-chain time authority used to schedule events.")],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/REPL/timerServices.html"}},[a("code",[t._v("localTimerService")])]),t._v(": Local off-chain time authority used to schedule events")],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/REPL/board.html"}},[a("code",[t._v("board")])]),t._v(": Shared, on-chain location where users can post generally accessible values.")],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/REPL/sharingService.html"}},[a("code",[t._v("sharingService")])]),t._v(": Share on-chain objects with other users without making them\navailable to the general public. In particular, you can share items between vats connected to the\nsame remote chain.")],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/REPL/networking.html"}},[a("code",[t._v("ibcport")])]),t._v(": IBC implementation that lets vats open and close listening ports,\nconnect and disconnect to/from remote ports, and send and receive data over those connections.")],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zoe/api/zoe.html"}},[a("code",[t._v("zoe")])]),t._v(": Deploy and interact with smart contracts. Zoe protects smart contract users by escrowing\ndigital assets and guaranteeing users get either what they want or get a refund of what they escrowed. Even if the\ncontract is buggy or malicious. This link takes you to the standard, non-REPL specific, "),a("code",[t._v("zoe")]),t._v(" API documentation. When calling\nany of the "),a("code",[t._v("zoe")]),t._v(" API methods from the REPL, "),a("code",[t._v("zoe")]),t._v(" must be prefaced by "),a("code",[t._v("home.")]),t._v(" and use "),a("code",[t._v("E()")]),t._v(". For example, "),a("code",[t._v("E(home.zoe).getFoo()")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/REPL/priceAuthority.html"}},[a("code",[t._v("priceAuthority")])]),t._v(": Get price quotes for pairs of digital assets.")],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/REPL/scratch.html"}},[a("code",[t._v("scratch")])]),t._v(": An off-chain, private, place to store key-value pairs on your ag-solo for later use.")],1)]),t._v(" "),a("p",[t._v("Click on each object link above to go to its documentation.")]),t._v(" "),a("p",[t._v("The following "),a("code",[t._v("home")]),t._v(" objects should be ignored.")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("contractHost")]),t._v(": Replaced by the "),a("code",[t._v("spawner")]),t._v(" object.")]),t._v(" "),a("li",[a("code",[t._v("faucet")]),t._v(": Internal for chain setup.")]),t._v(" "),a("li",[a("code",[t._v("http")]),t._v(": "),a("code",[t._v("api/deploy.js")]),t._v(" uses this to install new HTTP and WebSocket handlers in an\nag-solo.  You should not need to use it.")]),t._v(" "),a("li",[a("code",[t._v("network")]),t._v(": Privileged object for internal use.")]),t._v(" "),a("li",[a("code",[t._v("plugin")]),t._v(": Privileged object for internal use.")]),t._v(" "),a("li",[a("code",[t._v("priceAuthorityAdmin")]),t._v(": Privileged object for internal use.")]),t._v(" "),a("li",[a("code",[t._v("registrar")]),t._v(": Deprecated.")]),t._v(" "),a("li",[a("code",[t._v("registry")]),t._v(": Deprecated.")]),t._v(" "),a("li",[a("code",[t._v("spawner")]),t._v(": Privileged object for internal use.")]),t._v(" "),a("li",[a("code",[t._v("uploads")]),t._v(": Deprecated name for "),a("code",[t._v("scratch")]),t._v(".")]),t._v(" "),a("li",[a("code",[t._v("vattp")]),t._v(": Privileged object for internal use.")])])])}),[],!1,null,null,null);e.default=n.exports}}]);