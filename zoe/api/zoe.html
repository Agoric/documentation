<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Zoe | Documentation</title>
    <meta name="description" content="Secure smart contracts">
    <link rel="icon" href="/documentation/favicon-full.ico">
  <script>
    const logoUrlChanger = setInterval(function() {
    //Anchor above the logo image
    const homeEls = document.getElementsByClassName("home-link");
    if(homeEls.length > 0) {
      const homeEl = homeEls[0];
      homeEl.setAttribute("href", "https://agoric.com");
      homeEl.setAttribute("onclick", "return false;");
      clearInterval(logoUrlChanger);
    }

    //Actual logo image
    const logoEls = document.getElementsByClassName("logo")
    if(logoEls.length > 0) {
      const logoEl = logoEls[0]
      logoEl.setAttribute("onclick", "document.location='https://agoric.com';return false;");
      clearInterval(logoUrlChanger);
    }
   }, 1000) </script>
    
    <link rel="preload" href="/documentation/assets/css/0.styles.67a138ae.css" as="style"><link rel="preload" href="/documentation/assets/js/app.ac60658e.js" as="script"><link rel="preload" href="/documentation/assets/js/2.a254c233.js" as="script"><link rel="preload" href="/documentation/assets/js/50.126e141a.js" as="script"><link rel="preload" href="/documentation/assets/js/11.e0024b52.js" as="script"><link rel="prefetch" href="/documentation/assets/js/10.6c37f9c8.js"><link rel="prefetch" href="/documentation/assets/js/12.74bfd2a3.js"><link rel="prefetch" href="/documentation/assets/js/13.cefd02ed.js"><link rel="prefetch" href="/documentation/assets/js/14.88aba296.js"><link rel="prefetch" href="/documentation/assets/js/15.20e23315.js"><link rel="prefetch" href="/documentation/assets/js/16.4e85495b.js"><link rel="prefetch" href="/documentation/assets/js/17.855dd9e7.js"><link rel="prefetch" href="/documentation/assets/js/18.574ed5ce.js"><link rel="prefetch" href="/documentation/assets/js/19.46f18d37.js"><link rel="prefetch" href="/documentation/assets/js/20.97c90a13.js"><link rel="prefetch" href="/documentation/assets/js/21.bebfd68e.js"><link rel="prefetch" href="/documentation/assets/js/22.090d75b1.js"><link rel="prefetch" href="/documentation/assets/js/23.7e47d7d1.js"><link rel="prefetch" href="/documentation/assets/js/24.6f7d2e71.js"><link rel="prefetch" href="/documentation/assets/js/25.54f24508.js"><link rel="prefetch" href="/documentation/assets/js/26.37dc9f54.js"><link rel="prefetch" href="/documentation/assets/js/27.e14efda0.js"><link rel="prefetch" href="/documentation/assets/js/28.bb4485d4.js"><link rel="prefetch" href="/documentation/assets/js/29.d8e06394.js"><link rel="prefetch" href="/documentation/assets/js/3.4fb5f3f9.js"><link rel="prefetch" href="/documentation/assets/js/30.d2f97cea.js"><link rel="prefetch" href="/documentation/assets/js/31.d785e645.js"><link rel="prefetch" href="/documentation/assets/js/32.a1494591.js"><link rel="prefetch" href="/documentation/assets/js/33.4bc4a904.js"><link rel="prefetch" href="/documentation/assets/js/34.e45af707.js"><link rel="prefetch" href="/documentation/assets/js/35.a2bbd702.js"><link rel="prefetch" href="/documentation/assets/js/36.c79d4833.js"><link rel="prefetch" href="/documentation/assets/js/37.a9c6bfe2.js"><link rel="prefetch" href="/documentation/assets/js/38.6d8a7e9b.js"><link rel="prefetch" href="/documentation/assets/js/39.38a58839.js"><link rel="prefetch" href="/documentation/assets/js/4.cdc7cf45.js"><link rel="prefetch" href="/documentation/assets/js/40.fc9eb250.js"><link rel="prefetch" href="/documentation/assets/js/41.351527b1.js"><link rel="prefetch" href="/documentation/assets/js/42.7645e245.js"><link rel="prefetch" href="/documentation/assets/js/43.3893db37.js"><link rel="prefetch" href="/documentation/assets/js/44.53fcb245.js"><link rel="prefetch" href="/documentation/assets/js/45.ae4b4c8b.js"><link rel="prefetch" href="/documentation/assets/js/46.61d921f3.js"><link rel="prefetch" href="/documentation/assets/js/47.5ab4bdb9.js"><link rel="prefetch" href="/documentation/assets/js/48.35814450.js"><link rel="prefetch" href="/documentation/assets/js/49.8f178d6e.js"><link rel="prefetch" href="/documentation/assets/js/5.b4c973dc.js"><link rel="prefetch" href="/documentation/assets/js/51.0e1d090e.js"><link rel="prefetch" href="/documentation/assets/js/52.7485539a.js"><link rel="prefetch" href="/documentation/assets/js/53.1df64c72.js"><link rel="prefetch" href="/documentation/assets/js/54.cd0d083e.js"><link rel="prefetch" href="/documentation/assets/js/55.33d1b5cc.js"><link rel="prefetch" href="/documentation/assets/js/56.4d026949.js"><link rel="prefetch" href="/documentation/assets/js/57.ece5ba94.js"><link rel="prefetch" href="/documentation/assets/js/58.3c4875d7.js"><link rel="prefetch" href="/documentation/assets/js/59.41d5e5b5.js"><link rel="prefetch" href="/documentation/assets/js/6.05813f6d.js"><link rel="prefetch" href="/documentation/assets/js/60.77e3fc8d.js"><link rel="prefetch" href="/documentation/assets/js/61.b3a40280.js"><link rel="prefetch" href="/documentation/assets/js/62.295c19fc.js"><link rel="prefetch" href="/documentation/assets/js/63.7baf0019.js"><link rel="prefetch" href="/documentation/assets/js/7.8c693afd.js"><link rel="prefetch" href="/documentation/assets/js/8.3aa7be5a.js"><link rel="prefetch" href="/documentation/assets/js/9.2954e9a6.js">
    <link rel="stylesheet" href="/documentation/assets/css/0.styles.67a138ae.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/documentation/" class="home-link router-link-active"><img src="/documentation/logo.svg" alt="Documentation" class="logo"> <span class="site-name can-hide">Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Getting Started Menu" class="dropdown-title"><span class="title">Getting Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/" class="nav-link">Documentation Guide</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/before-using-agoric.html" class="nav-link">Before Using Agoric</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/start-a-project.html" class="nav-link">Starting a Project</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/development-cycle.html" class="nav-link">Development Cycle</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/deploying.html" class="nav-link">Deploying Smart Contracts</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/ertp-introduction.html" class="nav-link">ERTP Introduction</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/intro-zoe.html" class="nav-link">Zoe Introduction</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/agoric-cli-guide.html" class="nav-link">Agoric CLI Guide</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/" class="nav-link">Documentation</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/agoric-cli-guide/" class="nav-link">Agoric CLI</a></li><li class="dropdown-item"><!----> <a href="/documentation/dapps/" class="nav-link">Agoric Dapps</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/guide/" class="nav-link">ERTP</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/" class="nav-link">Zoe</a></li><li class="dropdown-item"><!----> <a href="/documentation/wallet-api.html" class="nav-link">Wallet API</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/blob/master/packages/SwingSet/docs/networking.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dynamic IBC (dIBC)
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/documentation/distributed-programming.html" class="nav-link">JS Distributed Programming</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Zoe Menu" class="dropdown-title"><span class="title">Zoe</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/intro-zoe.html" class="nav-link">Introduction</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/" class="nav-link">Guide</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/contracts/autoswap.html" class="nav-link">Contracts</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/api/" class="nav-link router-link-active">API</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/tree/master/packages/zoe" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ERTP Menu" class="dropdown-title"><span class="title">ERTP</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/ertp-introduction/" class="nav-link">Introduction</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/guide/" class="nav-link">Guide</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/api/" class="nav-link">API</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/tree/master/packages/ERTP" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Platform Menu" class="dropdown-title"><span class="title">Platform</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/platform/" class="nav-link">Agoric Stack</a></li></ul></div></div><div class="nav-item"><a href="/documentation/glossary/" class="nav-link">Glossary</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn More Menu" class="dropdown-title"><span class="title">Learn More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://agoric.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Agoric
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://agoric.com/papers/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Papers
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Getting Started Menu" class="dropdown-title"><span class="title">Getting Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/" class="nav-link">Documentation Guide</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/before-using-agoric.html" class="nav-link">Before Using Agoric</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/start-a-project.html" class="nav-link">Starting a Project</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/development-cycle.html" class="nav-link">Development Cycle</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/deploying.html" class="nav-link">Deploying Smart Contracts</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/ertp-introduction.html" class="nav-link">ERTP Introduction</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/intro-zoe.html" class="nav-link">Zoe Introduction</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/agoric-cli-guide.html" class="nav-link">Agoric CLI Guide</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/" class="nav-link">Documentation</a></li><li class="dropdown-item"><!----> <a href="/documentation/getting-started/agoric-cli-guide/" class="nav-link">Agoric CLI</a></li><li class="dropdown-item"><!----> <a href="/documentation/dapps/" class="nav-link">Agoric Dapps</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/guide/" class="nav-link">ERTP</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/" class="nav-link">Zoe</a></li><li class="dropdown-item"><!----> <a href="/documentation/wallet-api.html" class="nav-link">Wallet API</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/blob/master/packages/SwingSet/docs/networking.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dynamic IBC (dIBC)
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/documentation/distributed-programming.html" class="nav-link">JS Distributed Programming</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Zoe Menu" class="dropdown-title"><span class="title">Zoe</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/intro-zoe.html" class="nav-link">Introduction</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/" class="nav-link">Guide</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/guide/contracts/autoswap.html" class="nav-link">Contracts</a></li><li class="dropdown-item"><!----> <a href="/documentation/zoe/api/" class="nav-link router-link-active">API</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/tree/master/packages/zoe" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ERTP Menu" class="dropdown-title"><span class="title">ERTP</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/getting-started/ertp-introduction/" class="nav-link">Introduction</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/guide/" class="nav-link">Guide</a></li><li class="dropdown-item"><!----> <a href="/documentation/ertp/api/" class="nav-link">API</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/agoric-sdk/tree/master/packages/ERTP" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Platform Menu" class="dropdown-title"><span class="title">Platform</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documentation/platform/" class="nav-link">Agoric Stack</a></li></ul></div></div><div class="nav-item"><a href="/documentation/glossary/" class="nav-link">Glossary</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn More Menu" class="dropdown-title"><span class="title">Learn More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://agoric.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Agoric
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://agoric.com/papers/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Papers
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Agoric/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/documentation/getting-started/intro-zoe.html" class="sidebar-link">Zoe Introduction</a></li><li><section class="sidebar-group depth-0"><a href="/documentation/zoe/guide/" class="sidebar-heading clickable"><span>Zoe Guide</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/documentation/zoe/guide/" class="sidebar-link">Zoe: Offer-Safety Enforcement</a></li><li><a href="/documentation/zoe/guide/offer-safety.html" class="sidebar-link">Offer Safety</a></li><li><a href="/documentation/zoe/guide/proposal.html" class="sidebar-link">The Structure of Proposals</a></li><li><a href="/documentation/zoe/guide/contract-requirements.html" class="sidebar-link">Contract Requirements</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/documentation/zoe/guide/contracts/" class="sidebar-heading clickable"><span>Zoe Contracts</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/documentation/zoe/guide/contracts/atomic-swap.html" class="sidebar-link">Atomic Swap</a></li><li><a href="/documentation/zoe/guide/contracts/autoswap.html" class="sidebar-link">Autoswap</a></li><li><a href="/documentation/zoe/guide/contracts/covered-call.html" class="sidebar-link">Covered Call</a></li><li><a href="/documentation/zoe/guide/contracts/second-price-auction.html" class="sidebar-link">Second-price auction</a></li><li><a href="/documentation/zoe/guide/contracts/simple-exchange.html" class="sidebar-link">Simple Exchange</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/documentation/zoe/api/" class="sidebar-heading clickable router-link-active open"><span>Zoe API</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/documentation/zoe/api/zoe.html" class="active sidebar-link">Zoe</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe.html#e-zoe-getinviteissuer" class="sidebar-link">E(zoe).getInviteIssuer()</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe.html#e-zoe-install-code-moduleformat" class="sidebar-link">E(zoe).install(code, moduleFormat)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe.html#e-zoe-makeinstance-installationhandle-issuerkeywordrecord-terms" class="sidebar-link">E(zoe).makeInstance(installationHandle, issuerKeywordRecord, terms)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe.html#e-zoe-getinstancerecord-instancehandle" class="sidebar-link">E(zoe).getInstanceRecord(instanceHandle)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe.html#e-zoe-offer-invite-proposal-payments" class="sidebar-link">E(zoe).offer(invite, proposal, payments)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe.html#e-zoe-isofferactive-offerhandle" class="sidebar-link">E(zoe).isOfferActive(offerHandle)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe.html#e-zoe-getoffers-offerhandles" class="sidebar-link">E(zoe).getOffers(offerHandles)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe.html#e-zoe-getoffer-offerhandle" class="sidebar-link">E(zoe).getOffer(offerHandle)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe.html#e-zoe-getinstallation-installationhandle" class="sidebar-link">E(zoe).getInstallation(installationHandle)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe.html#e-zoe-getcurrentallocation-offerhandle-sparsekeywords" class="sidebar-link">E(zoe).getCurrentAllocation(offerHandle, sparseKeywords)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe.html#e-zoe-getcurrentallocations-offerhandles-sparsekeywords" class="sidebar-link">E(zoe).getCurrentAllocations(offerHandles, sparseKeywords)</a></li><li class="sidebar-sub-header"><a href="/documentation/zoe/api/zoe.html#e-zoe-getoffernotifier-offerhandle" class="sidebar-link">E(zoe).getOfferNotifier(offerHandle)</a></li></ul></li><li><a href="/documentation/zoe/api/records.html" class="sidebar-link">Records</a></li><li><a href="/documentation/zoe/api/zoe-contract-facet.html" class="sidebar-link">Zoe Contract Facet</a></li><li><a href="/documentation/zoe/api/zoe-helpers.html" class="sidebar-link">ZoeHelpers</a></li></ul></section></li><li><a href="/documentation/zoe/roadmap/" class="sidebar-link">Zoe Roadmap</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="zoe"><a href="#zoe" class="header-anchor">#</a> Zoe</h1> <div class="zoe-version">
    Zoe v0.5.0. Last updated
    4/20/2020.
</div> <p>Zoe provides a framework for deploying and working with smart contracts. It is accessed
as a long-lived and well-trusted service that enforces offer safety for the contracts that use it. Zoe has a single <code>inviteIssuer</code> for the entirety of its lifetime. By having a reference to Zoe, a user can get the <code>inviteIssuer</code> and thus validate any <code>invite</code> they receive from someone else.</p> <div class="custom-block tip"><p class="custom-block-title">Zoe is accessed asynchronously</p> <p>The Zoe service is accessed asynchronously, using a standards-track library extension
to JavaScript that uses promises as remote references. In code, the Zoe service instance
is referred to via <code>zoe</code>, which only supports asynchronous invocation. Operations are
invoked asynchronously using the <a href="https://github.com/tc39/proposal-eventual-send#e-and-esendonly-convenience-proxies" target="_blank" rel="noopener noreferrer"><code>E</code> helper for async messaging<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
All such operations immediately return a promise for their result. That may eventually fulfill to a local value, or to a <code>Presence</code> for another remote object (e.g. in another contract or service, running on another chain, etc.). Async messages can be sent using <code>E</code> with either promises or presences. See the note in <code>getInviteIssuer</code> below.</p></div> <h2 id="e-zoe-getinviteissuer"><a href="#e-zoe-getinviteissuer" class="header-anchor">#</a> E(zoe).getInviteIssuer()</h2> <ul><li>Returns: <a href="/documentation/ertp/api/issuer.html"><code>{Issuer}</code></a></li></ul> <p>Get the long-lived <code>inviteIssuer</code>. The mint associated with the <code>inviteIssuer</code> creates the ERTP payments that represent the right to participate in a contract.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Bob claims all with the Zoe inviteIssuer</span>
<span class="token keyword">const</span> inviteIssuerP <span class="token operator">=</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInviteIssuer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bobExclInvitePayment <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token constant">E</span><span class="token punctuation">(</span>inviteIssuerP<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">claim</span><span class="token punctuation">(</span>bobInvitePayment<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Note: in the example above, the <code>inviteIssuerP</code> is necessarily a promise because it
is the result of an async message (using <code>E</code>). In this case, there is no need to
<code>await</code> it; the <code>claim</code> operation is sent immediately, and will be delivered once
the <code>inviteIssuerP</code> is fulfilled.</p> <h2 id="e-zoe-install-code-moduleformat"><a href="#e-zoe-install-code-moduleformat" class="header-anchor">#</a> E(zoe).install(code, moduleFormat)</h2> <ul><li><code>code</code> <code>{String}</code></li> <li><code>moduleFormat</code> <code>{String}</code></li> <li>Returns: <code>{Object}</code></li></ul> <p>Create an installation by safely evaluating the code and registering
it with Zoe. Returns an <code>installationHandle</code>. A <a href="/documentation/glossary/#handle">handle</a> is an opaque unique
identifier for the contract code.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> bundleSource <span class="token keyword">from</span> <span class="token string">'@agoric/bundle-source'</span><span class="token punctuation">;</span>

<span class="token comment">// Pack the contract.</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> sourceCode<span class="token punctuation">,</span> moduleFormat <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">bundleSource</span><span class="token punctuation">(</span>someContract<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// install and get the `installationHandle` for someContract</span>
<span class="token keyword">const</span> installationHandleP <span class="token operator">=</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span>sourceCode<span class="token punctuation">,</span> moduleFormat<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="e-zoe-makeinstance-installationhandle-issuerkeywordrecord-terms"><a href="#e-zoe-makeinstance-installationhandle-issuerkeywordrecord-terms" class="header-anchor">#</a> E(zoe).makeInstance(installationHandle, issuerKeywordRecord, terms)</h2> <ul><li><code>installationHandle</code> <a href="/documentation/glossary/#handle"><code>{Handle}</code></a></li> <li><code>issuerKeywordRecord</code> <a href="/documentation/zoe/api/records.html#issuerkeywordrecord"><code>{IssuerKeywordRecord}</code></a></li> <li><code>terms</code> <code>{Object}</code></li> <li>Returns: <code>{Invite, instanceRecord}</code></li></ul> <p>We can use Zoe to create smart contract instances by specifying a
particular contract installation to use, as well as the
<code>issuerKeywordRecord</code> and <code>terms</code> of the contract. The
<code>issuerKeywordRecord</code> is a record mapping string names (keywords) to
issuers, such as <code>{ Asset: simoleanIssuer}</code>. (Note that the keywords
must begin with a capital letter and must be ASCII.) Parties to the
contract will use the keywords to index their proposal and their
payments. The payout that users receive from Zoe will be in the form of an
object with keywords as keys. Terms are the arguments to the contract,
such as the number of bids an auction will wait for before closing.
Terms are up to the discretion of the smart contract. We get back a record
of an invite (an ERTP payment) to participate in the contract and an
instanceRecord so you have direct access to information such as the
relevant instanceHandle.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> issuerKeywordRecord <span class="token operator">=</span> <span class="token punctuation">{</span> 
  <span class="token string">'Asset'</span> <span class="token operator">:</span> moolaIssuer<span class="token punctuation">,</span> 
  <span class="token string">'Price'</span> <span class="token operator">:</span> simoleanIssuer 
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> terms <span class="token operator">=</span> <span class="token punctuation">{</span> numBids<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> invite<span class="token punctuation">,</span> instanceRecord <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">makeInstance</span><span class="token punctuation">(</span>
  secondPriceAuctionInstallationHandle<span class="token punctuation">,</span> 
  issuerKeywordRecord<span class="token punctuation">,</span> 
  terms
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="e-zoe-getinstancerecord-instancehandle"><a href="#e-zoe-getinstancerecord-instancehandle" class="header-anchor">#</a> E(zoe).getInstanceRecord(instanceHandle)</h2> <ul><li>Returns: <a href="/documentation/zoe/api/records.html#instance-record"><code>{InstanceRecord}</code></a></li></ul> <p>Credibly get the instance record using the <a href="/documentation/glossary/#handle"><code>instanceHandle</code></a> ID.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>
  handle<span class="token punctuation">,</span>
  installationHandle<span class="token punctuation">,</span>
  publicAPI<span class="token punctuation">,</span>
  terms<span class="token punctuation">,</span>
  issuerKeywordRecord<span class="token punctuation">,</span>
  keywords<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInstanceRecord</span><span class="token punctuation">(</span>instanceHandle<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="e-zoe-offer-invite-proposal-payments"><a href="#e-zoe-offer-invite-proposal-payments" class="header-anchor">#</a> E(zoe).offer(invite, proposal, payments)</h2> <ul><li><code>invite</code> <a href="/documentation/ertp/api/payment.html#payment"><code>{Payment}</code></a></li> <li><code>proposal</code> <a href="/documentation/zoe/api/records.html#proposal"><code>{Proposal}</code></a></li> <li><code>paymentKeywordRecord</code> <a href="/documentation/zoe/api/records.html#paymentkeywordrecord"><code>{PaymentKeywordRecord}</code></a></li> <li>Returns: <a href="/documentation/zoe/api/records.html#offerresultrecord"><code>Promise&lt;{OfferResultRecord}&gt;</code></a></li></ul> <p>To make an offer to a contract, the user must provide an invite ot the
contract, a proposal (their rules for the offer), and the payments to be
escrowed by Zoe.</p> <p>The proposal has three parts: <code>want</code> and <code>give</code> are used
by Zoe to enforce offer safety; <code>exit</code> is used to specify
the particular payout-liveness policy that Zoe can guarantee.
<code>want</code> and <code>give</code> are objects with keywords as keys and amounts
as values.</p> <p>The <code>paymentKeywordRecord</code> is a record with keywords as keys,
and the values are the actual payments to be escrowed. A payment
is required for every rule under <code>give</code>.</p> <p>The resulting <code>OfferResultRecord</code> contains a handle for querying
Zoe about the offer, a promise for the payouts when the offer
is complete, a promise for the result of invoking the contract-specific
hook associated with the invitation, and if appropriate for the specified
<code>exit</code> policy, a function to complete the offer.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// A user makes an offer and escrows with Zoe using an invite </span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> offerHandle<span class="token punctuation">,</span> payout<span class="token operator">:</span> userPayoutP<span class="token punctuation">,</span> outcome<span class="token operator">:</span> outcomeP<span class="token punctuation">,</span> completeObj <span class="token punctuation">}</span> <span class="token operator">=</span> 
  <span class="token keyword">await</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span>
    userInvite<span class="token punctuation">,</span>
    userProposal<span class="token punctuation">,</span>
    userPayments<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="e-zoe-isofferactive-offerhandle"><a href="#e-zoe-isofferactive-offerhandle" class="header-anchor">#</a> E(zoe).isOfferActive(offerHandle)</h2> <ul><li><code>offerHandles</code> <a href="/documentation/glossary/#handle"><code>{Array &lt;Handle&gt;}</code></a></li> <li>Returns: <code>{Boolean}</code></li></ul> <p>Check if the offer is still active. This method does not throw if the offer is inactive.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> isActive <span class="token operator">=</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isOfferActive</span><span class="token punctuation">(</span>someOfferHandle<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="e-zoe-getoffers-offerhandles"><a href="#e-zoe-getoffers-offerhandles" class="header-anchor">#</a> E(zoe).getOffers(offerHandles)</h2> <ul><li><code>offerHandles</code> <a href="/documentation/glossary/#handle"><code>{Array &lt;Handle&gt;}</code></a></li> <li>Returns: <a href="/documentation/zoe/api/records.html#offer-record"><code>{Array &lt;OfferRecord&gt;}</code></a></li></ul> <p>Get a list of offer records. Throws error if offers are not found.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> offers <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getOffers</span><span class="token punctuation">(</span>listOfOfferHandles<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="e-zoe-getoffer-offerhandle"><a href="#e-zoe-getoffer-offerhandle" class="header-anchor">#</a> E(zoe).getOffer(offerHandle)</h2> <ul><li><code>offerHandle</code> <a href="/documentation/glossary/#handle"><code>{Handle}</code></a></li> <li>Returns: <a href="/documentation/zoe/api/records.html#offer-record"><code>{&lt;OfferRecord&gt;}</code></a></li></ul> <p>Get the offer record. Throws error if the offer is not found.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> 
  handle<span class="token punctuation">,</span>
  installationHandle<span class="token punctuation">,</span>
  publicAPI<span class="token punctuation">,</span>
  terms
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getOffer</span><span class="token punctuation">(</span>offerHandle<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="e-zoe-getinstallation-installationhandle"><a href="#e-zoe-getinstallation-installationhandle" class="header-anchor">#</a> E(zoe).getInstallation(installationHandle)</h2> <ul><li><code>installationHandle</code> <code>{InstallationHandle}</code></li> <li>Returns: {String} the source code</li></ul> <p>Get the source code for the installed contract. Throws an error if the installationHandle is not found.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>
  handle<span class="token punctuation">,</span>
  installationHandle<span class="token punctuation">,</span>
  publicAPI<span class="token punctuation">,</span>
  terms
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getOffer</span><span class="token punctuation">(</span>offerHandle<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="e-zoe-getcurrentallocation-offerhandle-sparsekeywords"><a href="#e-zoe-getcurrentallocation-offerhandle-sparsekeywords" class="header-anchor">#</a> E(zoe).getCurrentAllocation(offerHandle, sparseKeywords)</h2> <ul><li><code>offerHandle</code> <a href="/documentation/glossary/#handle"><code>{Array &lt;Handle&gt;}</code></a></li> <li><code>sparseKeywords</code> sparseKeywords is an array of string keywords, which may be a subset of allKeywords.</li> <li>Returns: <a href="/documentation/zoe/api/records.html#offer-record"><code>{&lt;AmountKeywordRecord&gt;}</code></a></li></ul> <p>Get the amounts associated with the sparseKeywords for the offer.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCurrentAllocation</span><span class="token punctuation">(</span>offerHandle<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="e-zoe-getcurrentallocations-offerhandles-sparsekeywords"><a href="#e-zoe-getcurrentallocations-offerhandles-sparsekeywords" class="header-anchor">#</a> E(zoe).getCurrentAllocations(offerHandles, sparseKeywords)</h2> <ul><li><code>offerHandles</code> <a href="/documentation/glossary/#handle"><code>{Array &lt;Handle&gt;}</code></a></li> <li><code>sparseKeywords</code> sparseKeywords is an array of string keywords, which may be a subset of allKeywords.</li> <li>Returns: <a href="/documentation/zoe/api/records.html#amount-keyword-record"><code>{ Array AmountKeywordRecord&gt;}</code></a></li></ul> <p>Get the amounts associated with the sparseKeywords for the offers.</p> <h2 id="e-zoe-getoffernotifier-offerhandle"><a href="#e-zoe-getoffernotifier-offerhandle" class="header-anchor">#</a> E(zoe).getOfferNotifier(offerHandle)</h2> <ul><li><code>offerHandle</code> <a href="/documentation/glossary/#handle"><code>&lt;Handle&gt;</code></a></li> <li>Returns: a <a href="/documentation/glossary/#notifier">notifier</a> for the offer.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> offerNotifer <span class="token operator">=</span> <span class="token constant">E</span><span class="token punctuation">(</span>zoe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getOfferNotifier</span><span class="token punctuation">(</span>offerHandle<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> value<span class="token punctuation">,</span> updateHandle<span class="token punctuation">,</span> done <span class="token punctuation">}</span> <span class="token operator">=</span> offerNotifier<span class="token punctuation">.</span><span class="token function">getUpdateSince</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token operator">&lt;</span>drop offer <span class="token keyword">from</span> list<span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
  newValue <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token function">waitForNextUpdate</span><span class="token punctuation">(</span>offerNotifier<span class="token punctuation">,</span> updateHandle<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/documentation/zoe/guide/contracts/simple-exchange.html" class="prev">Simple Exchange</a></span> <span class="next"><a href="/documentation/zoe/api/records.html">Records</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/documentation/assets/js/app.ac60658e.js" defer></script><script src="/documentation/assets/js/2.a254c233.js" defer></script><script src="/documentation/assets/js/50.126e141a.js" defer></script><script src="/documentation/assets/js/11.e0024b52.js" defer></script>
  </body>
</html>
